<!-- <!DOCTYPE html>
<html>
    <head></head>
    <body>
        <h1>
            Pro Page
        </h1>
        <script src="scripts/pro.js" async></script>
    </body>
</html> -->

<!DOCTYPE html>
<html>
  <body>
    <header></header>

    <section></section>
  </body>

  <script>
    var header = document.querySelector("header");
    var section = document.querySelector("section");
    var requestURL =
      "https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json";
    var request = new XMLHttpRequest();
    request.open("GET", requestURL);
    request.responseType = "json";
    request.send();
    request.onload = function() {
      var superHeroes = request.response;
      console.log("lsp===superHeroes=", superHeroes);
      populateHeader(superHeroes);
      showHeroes(superHeroes);
    };
    populateHeader = function(jsonObj) {
      var myH1 = document.createElement("h1");
      myH1.textContent = jsonObj["squadName"];
      var myPara = document.createElement("p");
      myPara.textContent =
        "Hometown: " + jsonObj["homeTown"] + " // Formed: " + jsonObj["formed"];
      header.appendChild(myPara);
    };
    showHeroes = function(jsonObj) {
      var heroes = jsonObj["members"];
      for (i = 0; heroes.length; i++) {
        var myArticle = document.createElement('article');
        var myH2 = document.createElement('h2');
        var myPara1 = document.createElement('p');
        var myPara2 = document.createElement('p');
        var myPara3 = document.createElement('p');
        var myList = document.createElement('ul');

        myH2.textContent = heroes[i].name;
        myPara1.textContent = 'Secret identity: ' + heroes[i].secretIdentity;
        myPara2.textContent = 'Age: ' + heroes[i].age;
        myPara3.textContent = 'Superpowers:';
            
        var superPowers = heroes[i].powers;
        for(j = 0; j < superPowers.length; j++) {
        var listItem = document.createElement('li');
        listItem.textContent = superPowers[j];
        myList.appendChild(listItem);
        }

        myArticle.appendChild(myH2);
        myArticle.appendChild(myPara1);
        myArticle.appendChild(myPara2);
        myArticle.appendChild(myPara3);
        myArticle.appendChild(myList);

        section.appendChild(myArticle);
      }
    };
  </script>
</html>
